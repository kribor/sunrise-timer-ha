"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.pState = void 0;
const UNIQUE_VALUE = Symbol('unique');
/**
 * Returns the state of the Promise, one of:
 * - pending
 * - resolved
 * - rejected
 *
 * Based on: https://makandracards.com/makandra/46681-javascript-how-to-query-the-state-of-a-native-promise
 */
async function pState(p) {
    return Promise.race([p, Promise.resolve(UNIQUE_VALUE)]).then(v => {
        return v === UNIQUE_VALUE ? 'pending' : 'resolved';
    }, () => 'rejected');
}
exports.pState = pState;

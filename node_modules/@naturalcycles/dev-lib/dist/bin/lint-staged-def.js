#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fs = require("fs");
const script_1 = require("@naturalcycles/nodejs-lib/dist/script");
const paths_cnst_1 = require("../cnst/paths.cnst");
(0, script_1.runScript)(async () => {
    // const cwd = process.cwd()
    const localConfig = `./lint-staged.config.js`;
    const sharedConfig = `${paths_cnst_1.cfgDir}/lint-staged.config.js`;
    const config = fs.existsSync(localConfig) ? localConfig : sharedConfig;
    // await execWithArgs(`lint-staged`, [`--config`, config])
    const lintStaged = require('lint-staged');
    const success = await lintStaged({
        configPath: config,
    });
    if (!success)
        process.exit(3);
});

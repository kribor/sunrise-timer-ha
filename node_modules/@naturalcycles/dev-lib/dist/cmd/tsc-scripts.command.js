"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.tscScriptsCommand = void 0;
const fs = require("fs");
const js_lib_1 = require("@naturalcycles/js-lib");
const colors_1 = require("@naturalcycles/nodejs-lib/dist/colors");
const exec_1 = require("@naturalcycles/nodejs-lib/dist/exec");
const tsc_util_1 = require("../util/tsc.util");
async function tscScriptsCommand() {
    if (!fs.existsSync('./scripts')) {
        // ./scripts folder doesn't exist, skipping
        return;
    }
    const projectTsconfigPath = (0, tsc_util_1.ensureProjectTsconfigScripts)();
    const args = ['-P', projectTsconfigPath, '--noEmit'];
    const started = Date.now();
    await (0, exec_1.execWithArgs)(`tsc`, args);
    console.log(`${(0, colors_1.boldGrey)('tsc scripts')} ${(0, colors_1.dimGrey)(`took ` + (0, js_lib_1._since)(started))}`);
}
exports.tscScriptsCommand = tscScriptsCommand;

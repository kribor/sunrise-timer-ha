"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.generateBuildInfoCommand = void 0;
const fs = require("fs");
const path = require("path");
const yargs = require("yargs");
const __1 = require("..");
async function generateBuildInfoCommand() {
    const { dir } = yargs.options({
        dir: {
            type: 'string',
            desc: 'Output directory',
        },
    }).argv;
    const buildInfo = await (0, __1.generateBuildInfo)();
    console.log(buildInfo);
    if (dir)
        fs.mkdirSync(dir, { recursive: true });
    const buildInfoPath = dir ? path.resolve(dir, 'buildInfo.json') : 'buildInfo.json';
    fs.writeFileSync(buildInfoPath, JSON.stringify(buildInfo, null, 2));
}
exports.generateBuildInfoCommand = generateBuildInfoCommand;

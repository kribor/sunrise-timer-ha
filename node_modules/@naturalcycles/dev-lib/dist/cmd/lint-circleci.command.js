"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.lintCircleCICommand = void 0;
const colors_1 = require("@naturalcycles/nodejs-lib/dist/colors");
const exec_1 = require("@naturalcycles/nodejs-lib/dist/exec");
async function lintCircleCICommand() {
    const commandExistsSync = require('command-exists').sync;
    if (!commandExistsSync('circleci')) {
        // Cannot validate, cause `circleci` binary is not installed
        console.warn(`!!\n!! Please install ${(0, colors_1.boldGrey)('circleci')} CLI to validate ${(0, colors_1.boldGrey)('config.yml')}\n!!\n!! https://circleci.com/docs/2.0/local-cli/\n!!`);
        return process.exit(5);
    }
    await (0, exec_1.execWithArgs)('circleci', ['config', 'validate']);
}
exports.lintCircleCICommand = lintCircleCICommand;

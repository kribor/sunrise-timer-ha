"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.transformToString = void 0;
const stream_1 = require("stream");
/**
 * Transforms objectMode=false Buffers/strings into objectMode=true strings.
 *
 * Useful in this _pipeline:
 * fs.createReadStream(inputPath),
 * createUnzip(), // binary
 * transformSplit(), // string chunks, but objectMode==false
 * transformToString(), // string chunks, but objectMode==true
 */
function transformToString() {
    return new stream_1.Transform({
        objectMode: false,
        readableObjectMode: true,
        transform(chunk, _encoding, cb) {
            // console.log(`enc: ${_encoding}`, chunk.toString())
            cb(null, chunk.toString());
        },
    });
}
exports.transformToString = transformToString;

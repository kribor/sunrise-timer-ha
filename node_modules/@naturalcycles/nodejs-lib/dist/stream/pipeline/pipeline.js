"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports._pipeline = void 0;
const stream_1 = require("stream");
const util_1 = require("util");
/**
 * Promisified stream.pipeline()
 */
exports._pipeline = (0, util_1.promisify)(stream_1.pipeline);
// Workaround https://github.com/nodejs/node/issues/40191
// todo: remove it when fix is released in 16.x and in AppEngine 16.x
if (process.version >= 'v16.10') {
    const { pipeline } = require('stream/promises');
    exports._pipeline = ((streams) => pipeline(...streams));
}
